language: python
python:
  - "2.7"
  - "3.4"

install:
  - if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then
      pip install -r requirements-2.txt
    fi
  - if [[ $TRAVIS_PYTHON_VERSION == 3* ]]; then
      pip install -r requirements-3.txt
    fi

# Ensure `requirements.txt` contains all of the dependencies
# for the scripts and that scripts that only operate on
# command-line arguments can be executed.
script:
  - if [[ $TRAVIS_PYTHON_VERSION == 3* ]]; then
      ./generate-readme.py
      ./python3/github-repo-summary.py bamos/python-scripts
      # Requires customization: ./python3/link-checker.py
      ./python3/phonetic.py github
      ./python3/rank-writing.py README.md
      # OSX only: ./python3/get-osx-wallpaper.py
      ./python3/word-counter.py README.md
      ./python3/eval-expr.py '(((4+6)*10)<<2)'
      ./python3/merge-mutt-contacts.py --help
    if
  - if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then
      ./python2.7/music-organizer.py --help
      ./python2.7/mt.py --help
    fi